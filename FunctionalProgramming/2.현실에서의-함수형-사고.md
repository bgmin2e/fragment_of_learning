# Ch.2 - 현실에서의 함수형 사고

피자 가게 운영을 함수형 사고로 정리해 본다면?

## 파트 1: 액션과 계산, 데이터

1. 액션: 호출 횟수와 시점에 의존하는 것
    1. 반죽 펴기
    2. 피자 배달
    3. 재료 주문
2. 계산: 계산은 실행해도 다른 곳에 영향을 주지 않음
    1. 조리법에 나온 것을 두 배로 만들기
    2. 쇼핑 목록 결정 등
3. 데이터: 변경 불가능한 immutable 데이터
    1. 고객 주문
    2. 영수증
    3. 조리법

## 파트 2: 일급 추상

### 분산 시스템을 타임라인으로 시각화 하기

- 피자 만드는 작업을 반죽 만들기, 소스 만들기, 치즈 갈기 작업으로 나누고 로봇 세 대가 동시에 일을 하면 더 빨리 만들 수 있음
- 여기서 로봇이 함께 일하는 것이 분산 시스템. 그러나 분산 시스템에서 독립된 액션의 실행 순서는 어떻게 될지 모른다.

### 각각의 타임라인은 다른 순서로 실행됩니다

- 소스 만드는 로봇이 반죽을 펴야 하는데, 아직 반죽이 준비되지 않았다면? 치즈 갈기 작업이 끝나지 않았는데 소스 만드는 로봇은 치즈가 필요하다면 ?
- 이와 같이 타임라인을 서로 맞추지 않은 분산 시스템은 예측 불가능한 순서로 실행된다.
- 로봇들이 반죽, 치즈, 소스 준비가 끝나면 피자를 만들도록 하는 것이 중요

### 타임라인 커팅: 로봇이 서로를 기다릴 수 있게 하기

- 타임라인 커팅: 여러 타임라인이 동시에 진행될 때 서로 순서를 맞추는 방법
- 타임라인 커팅은 고차 동작으로 구현할 수 있다. 각 타임라인은 독립적으로 동작하고 작업이 완료되면 다른 타임라인이 끝나기를 기다리기 때문에 어떤 것이 먼저 끝나도 괜찮음
    - 고차 동작: 고차 함수로 만든 동작